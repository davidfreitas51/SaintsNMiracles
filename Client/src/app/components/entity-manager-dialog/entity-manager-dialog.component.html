<div class="flex flex-col h-full w-full p-4">
  <!-- Header com título, busca e botão "Create New" -->
  <div class="flex items-center justify-between mb-4 flex-shrink-0 gap-4">
    <h1 class="text-2xl font-bold text-primary-app flex-grow">Manage {{ entityName }}</h1>

    <mat-form-field appearance="fill" class="w-64 flex-shrink-0">
      <mat-label>Search {{ entityName | lowercase }}</mat-label>
      <input
        matInput
        [(ngModel)]="search"
        (ngModelChange)="loadEntities()"
        placeholder="Type to search..."
      />
    </mat-form-field>

    <button
      mat-flat-button
      color="primary"
      (click)="createEntity()"
      class="flex-shrink-0"
    >
      <mat-icon>add</mat-icon>
      <span class="ml-1">Create New</span>
    </button>
  </div>

  <!-- Tabela com scroll e paginação -->
  <div class="flex-grow overflow-auto border rounded-lg">
    <table mat-table [dataSource]="dataSource" class="min-w-full">
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th
          mat-header-cell
          *matHeaderCellDef
          class="text-left px-3 py-2 bg-gray-100"
        >
          Name
        </th>
        <td mat-cell *matCellDef="let element" class="px-3 py-2">
          <input
            class="bg-transparent border border-gray-300 rounded px-2 py-1 w-full"
            [(ngModel)]="element.name"
            (blur)="updateEntity(element)"
          />
        </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th
          mat-header-cell
          *matHeaderCellDef
          class="px-3 py-2 bg-gray-100 text-center"
        >
          Actions
        </th>
        <td mat-cell *matCellDef="let element" class="text-center px-3 py-2">
          <button
            mat-icon-button
            color="warn"
            (click)="deleteEntity(element)"
            aria-label="Delete"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['name', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['name', 'actions']"></tr>
    </table>
  </div>

  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Pagination"
    class="mt-2"
  >
  </mat-paginator>
</div>
